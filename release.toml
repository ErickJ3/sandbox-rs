allow-branch = ["main"]
push = true
push-remote = "origin"
consolidate-commits = true

pre-release-commit-message = "chore: release {{version}}"
tag-message = "Release {{version}}"
tag-prefix = "v"
tag-name = "v{{version}}"

pre-release-hook = "cargo test --workspace && cargo fmt --all --check && cargo clippy --workspace -- -D warnings"

[[pre-release-replacements]]
file = "sandbox-ctl/Cargo.toml"
search = 'sandbox-rs = { path = "..", version = "[^"]+"'
replace = 'sandbox-rs = { path = "..", version = "{{version}}"'
